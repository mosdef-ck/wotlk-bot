local mb_spellEffectBaseValues = {}
-- flash of light
mb_spellEffectBaseValues["flash of light"] = {}
mb_spellEffectBaseValues["flash of light"].coefficient = 1.0
mb_spellEffectBaseValues["flash of light"][1] = 93
mb_spellEffectBaseValues["flash of light"][2] = 144
mb_spellEffectBaseValues["flash of light"][3] = 211
mb_spellEffectBaseValues["flash of light"][4] = 288
mb_spellEffectBaseValues["flash of light"][5] = 390
mb_spellEffectBaseValues["flash of light"][6] = 499
mb_spellEffectBaseValues["flash of light"][7] = 658
mb_spellEffectBaseValues["flash of light"][8] = 764
mb_spellEffectBaseValues["flash of light"][9] = 879
-- holy light
mb_spellEffectBaseValues["holy light"] = {}
mb_spellEffectBaseValues["holy light"].coefficient = 1.66
mb_spellEffectBaseValues["holy light"][1] = 60
mb_spellEffectBaseValues["holy light"][2] = 116
mb_spellEffectBaseValues["holy light"][3] = 239
mb_spellEffectBaseValues["holy light"][4] = 455
mb_spellEffectBaseValues["holy light"][5] = 708
mb_spellEffectBaseValues["holy light"][6] = 998
mb_spellEffectBaseValues["holy light"][7] = 1349
mb_spellEffectBaseValues["holy light"][8] = 1777
mb_spellEffectBaseValues["holy light"][9] = 2266
mb_spellEffectBaseValues["holy light"][10] = 2486
mb_spellEffectBaseValues["holy light"][11] = 3138
mb_spellEffectBaseValues["holy light"][12] = 4677
mb_spellEffectBaseValues["holy light"][13] = 5444
-- holy shock
mb_spellEffectBaseValues["holy shock"] = {}
mb_spellEffectBaseValues["holy shock"].coefficient = 0.81
mb_spellEffectBaseValues["holy shock"][1] = 582
mb_spellEffectBaseValues["holy shock"][2] = 780
mb_spellEffectBaseValues["holy shock"][3] = 1025
mb_spellEffectBaseValues["holy shock"][4] = 1287
mb_spellEffectBaseValues["holy shock"][5] = 1526
mb_spellEffectBaseValues["holy shock"][6] = 2504
mb_spellEffectBaseValues["holy shock"][7] = 2911
-- chain heal
mb_spellEffectBaseValues["chain heal"] = {}
mb_spellEffectBaseValues["chain heal"].coefficient = 1.34
mb_spellEffectBaseValues["chain heal"][1] = 368
mb_spellEffectBaseValues["chain heal"][2] = 465
mb_spellEffectBaseValues["chain heal"][3] = 629
mb_spellEffectBaseValues["chain heal"][4] = 691
mb_spellEffectBaseValues["chain heal"][5] = 942
mb_spellEffectBaseValues["chain heal"][6] = 1034
mb_spellEffectBaseValues["chain heal"][7] = 1205
-- riptide
mb_spellEffectBaseValues["riptide"] = {}
mb_spellEffectBaseValues["riptide"].coefficient = 0.4
mb_spellEffectBaseValues["riptide"][1] = 691
mb_spellEffectBaseValues["riptide"][2] = 919
mb_spellEffectBaseValues["riptide"][3] = 1492
mb_spellEffectBaseValues["riptide"][4] = 1736
-- lesser healing wave
mb_spellEffectBaseValues["lesser healing wave"] = {}
mb_spellEffectBaseValues["lesser healing wave"].coefficient = 0.90
mb_spellEffectBaseValues["lesser healing wave"][1] = 186
mb_spellEffectBaseValues["lesser healing wave"][2] = 281
mb_spellEffectBaseValues["lesser healing wave"][3] = 381
mb_spellEffectBaseValues["lesser healing wave"][4] = 514
mb_spellEffectBaseValues["lesser healing wave"][5] = 705
mb_spellEffectBaseValues["lesser healing wave"][6] = 928
mb_spellEffectBaseValues["lesser healing wave"][7] = 1185
mb_spellEffectBaseValues["lesser healing wave"][8] = 1578
mb_spellEffectBaseValues["lesser healing wave"][9] = 1834
-- healing wave
mb_spellEffectBaseValues["healing wave"] = {}
mb_spellEffectBaseValues["healing wave"].coefficient = 1.81
mb_spellEffectBaseValues["healing wave"][1] = 44
mb_spellEffectBaseValues["healing wave"][2] = 78
mb_spellEffectBaseValues["healing wave"][3] = 155
mb_spellEffectBaseValues["healing wave"][4] = 316
mb_spellEffectBaseValues["healing wave"][5] = 440
mb_spellEffectBaseValues["healing wave"][6] = 622
mb_spellEffectBaseValues["healing wave"][7] = 854
mb_spellEffectBaseValues["healing wave"][8] = 1167
mb_spellEffectBaseValues["healing wave"][9] = 1561
mb_spellEffectBaseValues["healing wave"][10] = 1850
mb_spellEffectBaseValues["healing wave"][11] = 1969
mb_spellEffectBaseValues["healing wave"][12] = 2436
mb_spellEffectBaseValues["healing wave"][13] = 2996
mb_spellEffectBaseValues["healing wave"][14] = 4506
-- penance
mb_spellEffectBaseValues["penance"] = {}
mb_spellEffectBaseValues["penance"].coefficient = 1.61
mb_spellEffectBaseValues["penance"][1] = 2286
mb_spellEffectBaseValues["penance"][2] = 2865
mb_spellEffectBaseValues["penance"][3] = 4545
mb_spellEffectBaseValues["penance"][4] = 5280
-- flash heal
mb_spellEffectBaseValues["flash heal"] = {}
mb_spellEffectBaseValues["flash heal"].coefficient = 0.81
mb_spellEffectBaseValues["flash heal"][1] = 261
mb_spellEffectBaseValues["flash heal"][2] = 346
mb_spellEffectBaseValues["flash heal"][3] = 433
mb_spellEffectBaseValues["flash heal"][4] = 526
mb_spellEffectBaseValues["flash heal"][5] = 678
mb_spellEffectBaseValues["flash heal"][6] = 841
mb_spellEffectBaseValues["flash heal"][7] = 1054
mb_spellEffectBaseValues["flash heal"][8] = 1165
mb_spellEffectBaseValues["flash heal"][9] = 1407
mb_spellEffectBaseValues["flash heal"][10] = 2016
mb_spellEffectBaseValues["flash heal"][11] = 2413
-- nourish
mb_spellEffectBaseValues["nourish"] = {}
mb_spellEffectBaseValues["nourish"].coefficient = 1.0057
mb_spellEffectBaseValues["nourish"][1] = 2406
-- healing touch
mb_spellEffectBaseValues["healing touch"] = {}
mb_spellEffectBaseValues["healing touch"].coefficient = 2.01
mb_spellEffectBaseValues["healing touch"][1] = 57
mb_spellEffectBaseValues["healing touch"][2] = 124
mb_spellEffectBaseValues["healing touch"][3] = 268
mb_spellEffectBaseValues["healing touch"][4] = 490
mb_spellEffectBaseValues["healing touch"][5] = 654
mb_spellEffectBaseValues["healing touch"][6] = 843
mb_spellEffectBaseValues["healing touch"][7] = 1056
mb_spellEffectBaseValues["healing touch"][8] = 1570
mb_spellEffectBaseValues["healing touch"][9] = 1693
mb_spellEffectBaseValues["healing touch"][10] = 2104
mb_spellEffectBaseValues["healing touch"][11] = 2524
mb_spellEffectBaseValues["healing touch"][12] = 2632
mb_spellEffectBaseValues["healing touch"][13] = 3013
mb_spellEffectBaseValues["healing touch"][14] = 4186
mb_spellEffectBaseValues["healing touch"][15] = 4871
-- swiftmend
mb_spellEffectBaseValues["swiftmend"] = {}
mb_spellEffectBaseValues["swiftmend"].coefficient = 1.61
mb_spellEffectBaseValues["swiftmend"][1] = 5577
-- rejuvenation
mb_spellEffectBaseValues["rejuvenation"] = {}
mb_spellEffectBaseValues["rejuvenation"].coefficient = 0.4512
mb_spellEffectBaseValues["rejuvenation"][1] = 52
mb_spellEffectBaseValues["rejuvenation"][2] = 94
mb_spellEffectBaseValues["rejuvenation"][3] = 194
mb_spellEffectBaseValues["rejuvenation"][4] = 305
mb_spellEffectBaseValues["rejuvenation"][5] = 415
mb_spellEffectBaseValues["rejuvenation"][6] = 515
mb_spellEffectBaseValues["rejuvenation"][7] = 662
mb_spellEffectBaseValues["rejuvenation"][8] = 829
mb_spellEffectBaseValues["rejuvenation"][9] = 1034
mb_spellEffectBaseValues["rejuvenation"][10] = 1286
mb_spellEffectBaseValues["rejuvenation"][11] = 1512
mb_spellEffectBaseValues["rejuvenation"][12] = 1585
mb_spellEffectBaseValues["rejuvenation"][13] = 1806
mb_spellEffectBaseValues["rejuvenation"][14] = 2032
mb_spellEffectBaseValues["rejuvenation"][15] = 2305
-- regrowth
mb_spellEffectBaseValues["regrowth"] = {}
mb_spellEffectBaseValues["regrowth"].coefficient = 0.30
mb_spellEffectBaseValues["regrowth"][1] = 108
mb_spellEffectBaseValues["regrowth"][2] = 207
mb_spellEffectBaseValues["regrowth"][3] = 302
mb_spellEffectBaseValues["regrowth"][4] = 396
mb_spellEffectBaseValues["regrowth"][5] = 503
mb_spellEffectBaseValues["regrowth"][6] = 633
mb_spellEffectBaseValues["regrowth"][7] = 797
mb_spellEffectBaseValues["regrowth"][8] = 996
mb_spellEffectBaseValues["regrowth"][9] = 1231
mb_spellEffectBaseValues["regrowth"][10] = 1491
mb_spellEffectBaseValues["regrowth"][11] = 2099
mb_spellEffectBaseValues["regrowth"][12] = 2744

-- lifebloom
mb_spellEffectBaseValues["lifebloom"] = {}
mb_spellEffectBaseValues["lifebloom"].coefficient = 0.3857
mb_spellEffectBaseValues["lifebloom"][3] = 500

-- wild growth
mb_spellEffectBaseValues["wild growth"] = {}
mb_spellEffectBaseValues["wild growth"].coefficient = 0.1382
mb_spellEffectBaseValues["wild growth"][1] = 770

function AI.GetSpellEffect(spell)
    local _, rank = GetSpellInfo(spell)
    if rank == nil or rank == "" then
        rank = "Rank 1"
    end
    local spellRank = tonumber(string.sub(rank, 5))
    local spellValues = mb_spellEffectBaseValues[spell]
    if spellValues == nil or spellValues[spellRank] == nil then
        AI.SayRaid(spell .. "(Rank " .. spellRank ..
                       ") is not supported in SpellEffectCalculator, please add it in SpellEffectCalculator.lua at the top.")
        return nil
    end
    local baseValue = spellValues[spellRank]
    local coefficient = spellValues.coefficient
    local spellPower = GetSpellBonusHealing()
    local classModifier = 1.0
    if AI.GetClass("player") == "PALADIN" then
        if AI.GetMySpecName() == "Holy" then
            classModifier = 1.17 -- 17% flat increase from talents
        end
        if AI.GetBuffDuration("Divine Plea", "player") > 0 then
            classModifier = classModifier * 0.5
        end
    end
    if AI.IsDruid() and AI.GetMySpecName() == "Restoration" and spell:lower() == "nourish" then
        classModifier = 1.20
    end
    if AI.HasBuff("resilence of nature") then
        classModifier = classModifier + 0.20 -- an additional 20% from resilience of nature
    end
    local spellEffect = (baseValue + coefficient * spellPower) * 1.06 * classModifier -- Count on having Improved Devotion Aura, or Tree Form on the raid
    return spellEffect
end
